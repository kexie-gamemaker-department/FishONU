# History Line

主要想记录一下这次马拉松的结果，虽然一开始没打算马拉松的，但是突然间感觉专注感上来了就当马拉松挑战了。

没有规则的马拉松，不过我到希望赶紧做完初版，一是我想看这样一个项目大概需要多长时间，二是我想看这个项目我第一口气能坚持多久。

## 26.2.6

4h16m23s

从下午有 idea 开始就直接动手弄到了凌晨 12 点。

创建项目，添加一些依赖，然后从 CardInfo（现在的 CardData）开始写。



## 26.2.7

8h49m18s

有点爽，虽然代码在野蛮生长。

不想用 gitmoji 了，每次都要翻怪累的。

实现了 OwnerInventory SecretInventory BaseInventory IArrangeStrategy等卡牌相关的类，还有 DebugUI，以及一些动画。最后心满意足地写了状态机的框架就收工了。



## 26.2.8

10h21m24s

大体上按顺序：实现了弃牌堆Prefab，完善了 DebugUI，然后实现了数据遮掩（客户端看不到其他人的牌实际数据，只能看到卡的数量），又实现了手牌的ArrangeStrategy。

最后一部分写得很折磨，因为状态不好还硬写，写到了 1点23，低级 bug 频出不穷，后悔了。



## 26.2.9

12h10m45s

不知不觉又写一天。

修了一些昨天加班以及先前野蛮生长导致的问题，差不多一整天都在重构以及写一些辅助类，虽然没睡好，但是刚好写得东西难度不高，后面不用重做。但还是侥幸，下不为例。



## 26.2.10

7h41m16s

因为要忙别的事情了，加上有些身心俱疲，没得空写太多，不过还是写了一个大功能，然后整理和重写了一下状态机。

修了昨天没得空修的 ArrangeStrategy 的 bug，然后写完了游戏的准备阶段（也就是开局洗牌发牌）



## 26.2.11

6h33m31s

没想到还是挺忙的，结果又没得写多少。

今天搓了个简单的 UI 然后实现了选卡打出的功能，然后给 OwnerInventory 加了高光卡片的功能，再稍微重构了一下 PlayerController GameManager GameUI 几个类之间的接口和连接关系，以及给 CardData 重载了 Equals 来适应网络的卡片比较（比 guid 和卡片内容而不是类型引用，因为类型引用在序列化网络传输后会乱），还加了个显示当前轮到谁打牌的功能。

最后开始写 History Line 了，截止目前在 wakatime 上能看到项目已经持续了 49h37m 了，因为用了 ParrelSync 所以可能有点偏差，不过误差不超过 20m 吧。


