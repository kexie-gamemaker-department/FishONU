# History Line

主要想记录一下这次马拉松的结果，虽然一开始没打算马拉松的，但是突然间感觉专注感上来了就当马拉松挑战了。

没有规则的马拉松，不过我到希望赶紧做完初版，一是我想看这样一个项目大概需要多长时间，二是我想看这个项目我第一口气能坚持多久。

## 26.2.6

4h16m23s

从下午有 idea 开始就直接动手弄到了凌晨 12 点。

创建项目，添加一些依赖，然后从 CardInfo（现在的 CardData）开始写。



## 26.2.7

8h49m18s

有点爽，虽然代码在野蛮生长。

不想用 gitmoji 了，每次都要翻怪累的。

实现了 OwnerInventory SecretInventory BaseInventory IArrangeStrategy等卡牌相关的类，还有 DebugUI，以及一些动画。最后心满意足地写了状态机的框架就收工了。



## 26.2.8

10h21m24s

大体上按顺序：实现了弃牌堆Prefab，完善了 DebugUI，然后实现了数据遮掩（客户端看不到其他人的牌实际数据，只能看到卡的数量），又实现了手牌的ArrangeStrategy。

最后一部分写得很折磨，因为状态不好还硬写，写到了 1点23，低级 bug 频出不穷，后悔了。



## 26.2.9

12h10m45s

不知不觉又写一天。

修了一些昨天加班以及先前野蛮生长导致的问题，差不多一整天都在重构以及写一些辅助类，虽然没睡好，但是刚好写得东西难度不高，后面不用重做。但还是侥幸，下不为例。



## 26.2.10

7h41m16s

因为要忙别的事情了，加上有些身心俱疲，没得空写太多，不过还是写了一个大功能，然后整理和重写了一下状态机。

修了昨天没得空修的 ArrangeStrategy 的 bug，然后写完了游戏的准备阶段（也就是开局洗牌发牌）



## 26.2.11

6h33m31s

没想到还是挺忙的，结果又没得写多少。

今天搓了个简单的 UI 然后实现了选卡打出的功能，然后给 OwnerInventory 加了高光卡片的功能，再稍微重构了一下 PlayerController GameManager GameUI 几个类之间的接口和连接关系，以及给 CardData 重载了 Equals 来适应网络的卡片比较（比 guid 和卡片内容而不是类型引用，因为类型引用在序列化网络传输后会乱），还加了个显示当前轮到谁打牌的功能。

最后开始写 History Line 了，截止目前在 wakatime 上能看到项目已经持续了 49h37m 了，因为用了 ParrelSync 所以可能有点偏差，不过误差不超过 20m 吧。



## 26.2.12

7h3m14s / 56h40m14s

到 waktime 的免费计划计时边界了，所以现在要手动累加时间了。希望我不会抄错。

今天提交和PR的碎度很高，创建PR的速度也变快了，可能是因为现在框架起来一半之后，越来越接近能够辨认哪些是小功能而分开进行提交和PR了，而不是像之前因为分开之后功能不完全PR进main也没用。（或者换句话说，PR 对main更加有意义了，标题也好写）。所以今天交了 16 个 commit，虽然我才写了 7h，相当夸张。而项目的总 commit 也来到了 76 commits.

当然也可能是因为今天主要在修 bug 和重构导致的，一边修 bug 一边根据现在的框架重写重构一些之前写的功能。而主要功能就新实现了功能牌实现功能的架构，然后写了很简单的反转牌和跳过牌（因为之前写状态机的时候稍微顺手留过一手），不过即便到这样了也还是被架构肘击了一下，被简单的 bug 硬控了几个钟。不过我感觉也不是什么大问题，虽然写得少了，但是起码有写新功能。

今天选择修 bug 是因为早上写了会感觉就没在状态所以就打算写简单的然后修 bug差不多了，而另外还有一个原因则是昨天晚上梳理的时候 AI 说开发遵循了敏捷开发，结果我回去又看了眼敏捷开发和极限开发的要点，上头了。今天早上起来反而感觉有点束手束脚或者说邯郸学步了，老是会去在意开发计划以及是否有高效率。所以我决定今天调整一天，放放松，顺便慢慢让专注力回归开发活动本身而不是未来计划。

总而言之，慢慢调整吧，显然现在已经过了前半程从零开始的艰难时期，可以站在地基上更轻松一些地写。而至于高不高效，可能遵循直觉的判断不去反复检查那些复杂的规则会更自然和轻松，毕竟思想从实践中来总比循规蹈矩更有印象和理解。


